<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN"
    "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">

<!-- Mirrored from www.linuxcnc.org/docs/html/drivers/shuttlexpress.html by HTTrack Website Copier/3.x [XR&CO'2013], Wed, 05 Jun 2013 19:14:38 GMT -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<meta name="generator" content="AsciiDoc 8.5.2" />
<title>ShuttleXpress</title>
<link rel="stylesheet" href="../xhtml11.css" type="text/css" />
<link rel="stylesheet" href="../xhtml11-quirks.css" type="text/css" />
<link rel="stylesheet" href="../linuxcnc.css" type="text/css" />
<script type="text/javascript">
/*<![CDATA[*/
window.onload = function(){asciidoc.footnotes(); asciidoc.toc(2);}
/*]]>*/
</script>
<script type="text/javascript" src="../asciidoc-xhtml11.js"></script>
</head>
<body>
<div id="header">
<h1>ShuttleXpress</h1>
<div id="toc">
  <div id="toctitle">Table of Contents</div>
  <noscript><p><b>JavaScript must be enabled in your browser to display the table of contents.</b></p></noscript>
</div>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div class="paragraph"><p><a id="cha:shuttlexpress"></a> </p></div>
</div>
</div>
<h2 id="_description">1. Description</h2>
<div class="sectionbody">
<div class="paragraph"><p>shuttlexpress is a userspace HAL component that interfaces Contour Design’s ShuttleXpress device with LinuxCNC’s HAL. The ShuttleXpress has five momentary buttons, a 10 counts/revolution jog wheel with detents, and a 15-position spring-loaded outer wheel that returns to center when released.</p></div>
<div class="paragraph"><p>If it is started without command-line arguments, it will probe all /dev/hidraw* device files for ShuttleXpress devices, and use all devices found. If it is started with command-line arguments, only will only probe the devices specified.</p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<div class="title">Warning</div>
</td>
<td class="content">The ShuttleXpress device has an internal 8-bit counter for the current jog-wheel position. The shuttlexpress driver can not know this value until the ShuttleXpress device sends its first event. When the first event comes into the driver, the driver uses the device’s reported jog-wheel position to initialize counts to 0.</td>
</tr></table>
</div>
<div class="paragraph"><p>This means that if the first event is generated by a jog-wheel move, that first move will be lost.</p></div>
<div class="paragraph"><p>Any user interaction with the ShuttleXpress device will generate an event, informing the driver of the jog-wheel position. So if you (for example) push one of the buttons at startup, the jog-wheel will work fine and notice the first click.</p></div>
</div>
<h2 id="_setup">2. Setup</h2>
<div class="sectionbody">
<div class="paragraph"><p>The shuttlexpress module needs read permission on the /dev/hidraw* device files. This can be accomplished by adding a file /etc/udev/rules.d/99-shuttlexpress.rules, with the following contents:</p></div>
<div class="listingblock">
<div class="content">
<pre><tt>SUBSYSTEM=="hidraw", ATTRS{idVendor}=="0b33", ATTRS{idProduct}=="0020", MODE="0444"</tt></pre>
</div></div>
</div>
<h2 id="_pins">3. Pins</h2>
<div class="sectionbody">
<div class="ulist"><ul>
<li>
<p>
<em>shuttlexpress.&lt;DeviceNumber&gt;.button-&lt;ButtonNumber&gt;</em> (bit out) The
    ShuttleXpress has five buttons around the outside of the device,
    numbered 0 through 4.  0 is the counter-clockwise-most button, 4 is
    the clockwise-most button.  These pins are True (1) when the button
    is pressed.
</p>
</li>
<li>
<p>
<em>shuttlexpress.&lt;DeviceNumber&gt;.button-&lt;ButtonNumber&gt;-not</em> (bit out)
    These pins have the inverse of the button state, so they&#8217;re True
    (1) when the button is not pressed.
</p>
</li>
<li>
<p>
<em>shuttlexpress.&lt;DeviceNumber&gt;.counts</em> (s32 out) Accumulated counts
    from the jog wheel (the inner wheel).
</p>
</li>
<li>
<p>
<em>shuttlexpress.&lt;DeviceNumber&gt;.spring-wheel-s32</em> (s32 out) The current
    deflection of the spring-wheel (the outer wheel).  It’s 0 at rest,
    and ranges from -7 at the counter-clockwise extreme to +7 at the
    clockwise extreme.
</p>
</li>
<li>
<p>
<em>shuttlexpress.&lt;DeviceNumber&gt;.spring-wheel-f</em> (float out) The current
    deflection of the spring-wheel (the outer wheel).  It’s 0 at
    rest, -1 at the counter-clockwise extreme, and +1 at the clockwise
    extreme. (The ShuttleXpress device reports the spring-wheel position
    quantized from -7 to +7, so this pin reports only 15 discrete values
    in it’s range.)
</p>
</li>
</ul></div>
</div>
</div>
<div id="footnotes"><hr /></div>
<div id="footer">
<div id="footer-text">
Last updated 2012-11-01 11:36:09 CDT
</div>
</div>
</body>

<!-- Mirrored from www.linuxcnc.org/docs/html/drivers/shuttlexpress.html by HTTrack Website Copier/3.x [XR&CO'2013], Wed, 05 Jun 2013 19:14:38 GMT -->
</html>
